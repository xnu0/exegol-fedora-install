
After installing your desired image, you can proceed with basic usage and initial Exegol setup.


#### 1. Starting and Setting Up a New Container with VPN for Hack The Box


1. Download your VPN connection file.

2. Set up the VPN file

To avoid issues with DNS resolution and the need to manually refresh your VPN configuration each time, add the following lines to your `.ovpn` file.

At the top of the file, before the certificate block:

```
script-security 2
-----BEGIN CERTIFICATE-----
```

At the bottom of the file, after </tls-auth>:

```
</tls-auth>
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf
```


> [!info]
> These lines automatically update DNS when the VPN connects, avoiding domain resolution issues.


3. Start the container with the VPN file:

```shell
exegol start htblab free --desktop --vpn /home/sithsec/Downloads/academy-regular.ovpn -w /home/sithsec/.exegol/workspaces/htblab -l
```


> [!info] Exegol Container Launch Flags Explained
> - `htblab` → Name of the container being created.
> - `free` → Desired image to use (e.g., `free`, `full`, `osint`, etc.).
> - `--desktop` → Launches the VNC-enabled desktop environment.  
>   You can access it via your browser.  
>   (Optional, but highly recommended.)  
>   On Linux, you can alternatively use `X11` forwarding to open GUI tools like Firefox, Burp Suite, BloodHound, RDP clients, etc.
> - `--vpn` → Path to your VPN `.ovpn` file.
> - `-w` → Working directory on the host, where data will be stored/persisted.


> [!tip] Container Summary Output
> After starting your container, you should see a summary like this:
>
> ```shell
> ⭐ Container summary                                                                                 
> ┌──────────────────┬────────────────────────────────────────────────────────────────────────────────┐
> │             Name │ htblab                                                                         │
> │            Image │ free - v.3.1.6 (Up to date)                                                    │
> ├──────────────────┼────────────────────────────────────────────────────────────────────────────────┤
> │      Credentials │ root : 6I2VktZxAHVpnhGAEGDDwDmwYwwXbr                                          │
> │   Remote Desktop │ http://localhost:39213                                                         │
> │      Console GUI │ On ✔ (X11 + Wayland)                                                           │
> │          Network │ Docker (with VPN)                                                              │
> │         Timezone │ On ✔                                                                           │
> │ Exegol resources │ On ✔ (/opt/resources)                                                          │
> │     My resources │ On ✔ (/opt/my-resources)                                                       │
> │    Shell logging │ On ✔ (/workspace/logs)                                                         │
> │              VPN │ academy-regular.ovpn                                                           │
> │       Privileged │ Off ✔                                                                          │
> │     Capabilities │ NET_ADMIN                                                                      │
> │        Workspace │ /home/sithsec/.exegol/workspaces/htblab (/workspace)                           │
> │          Devices │ /dev/net/tun                                                                   │
> │            Ports │ 127.0.0.1:39213 ➡ 6080/tcp                                                     │
> │          Volumes │ /home/sithsec/Downloads/academy-regular.ovpn ➡ /.exegol/vpn/config/client.ovpn │
> │         Systctls │ net.ipv6.conf.all.disable_ipv6 = 0                                             │
> └──────────────────┴────────────────────────────────────────────────────────────────────────────────┘
> ```



> [!info] Accessing GUI Tools
> You can now access the graphical desktop via [http://localhost:39213](http://localhost:39213),  
> or simply launch GUI tools directly from the Exegol shell by typing their names, such as:
>
> - `burpsuite`
> - `firefox`
> - `bloodhound`
>
> For a complete list and details on available tools, visit:  
> [https://docs.exegol.com/images/tools](https://docs.exegol.com/images/tools)
